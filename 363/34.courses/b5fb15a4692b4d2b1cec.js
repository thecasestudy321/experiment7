webpackJsonp([34,267],{169:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=n||!1,s=a||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,c=0;c<3;++c){var l=c+1,u=PIXI.Sprite.fromFrame("TAP_1"+l);u.x=-u.width/2,u.y=-u.height/2;var h=new PIXI.Container;h.addChild(u),d.addChild(h)}var v=0;if(s.direction)switch(s.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}d.filters=[o];for(var f=0;f<d.children.length;f++){var p=d.children[f];p.scale.x=p.scale.y=2,f<2&&y(p,.75*f)}if(i.addChild(d),s.addArrow){var g,m;if(s.direction){g=PIXI.Sprite.fromFrame("oneArrow"),m=new PIXI.extras.MovieClip([g]);var x=s.scale?s.scale:1;m.scale.x=m.scale.y=x,m.pivot={x:0,y:m.height/2},m.rotation=v}else{g=PIXI.Sprite.fromFrame("NBarrow"),(m=new PIXI.extras.MovieClip([g])).pivot={x:m.width/2,y:m.height/2};var w=s.scale?s.scale:1;m.scale.x=m.scale.y=w,"horizontal"!==(s.type?s.type:"horizontal")&&(m.rotation=Math.PI/2)}i.addChild(m),i.arrow=m,i.addEventListener("hideArrow",function(){m.alpha=0,m.visible=!1}),i.addEventListener("showArrow",function(){m.alpha=1,m.visible=!0})}d.alpha=.4;var M=new PIXI.Graphics;function y(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return M.beginFill(16776960,0),M.drawRect(-50,-50,100,100),i.addChild(M),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!r&&i.parent&&i.parent.removeChild(i)}),i.x=t,i.y=e,i.setColor=function(t){var e=t>>16,n=t>>8&255,a=255&t;o._loadMatrix([e,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),d.filters=[o]},i.setRotation=function(t){i.rotation=t},i.showAllDir=function(){if(s.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(e),e.pivot={x:0,y:m.height/2},e.rotation=Math.PI/2*(t+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(n),n.pivot={x:m.width/2,y:m.height/2},n.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},239:function(t,e,n){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var t=this.timeline,e=this.step0,n=this.step1,a=!1;n.alpha=0,t.setAutoPlay(!0,1),t.on("change",function(i){!a&&i.time>=1&&(a=!0,TweenMax.to([t,e],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(n,.5,{alpha:1})}}));for(var o=1;o<4;o++)e["container"+o].s.alpha=i.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var t,e,n=this;if(n.bgMask){var a=n.bgMask.getChildAt(0);n.progressBar.mask=a,a.scale.x=0}for(var i,o=this.a0.x===this.a1.x?"vertical":"horizontal",r=0,s=0;s<int.MAX_VALUE;s++){var d=this["a"+s];if(void 0===d){e="vertical"===o?this["a"+(s-1)].y:this["a"+(s-1)].x,r=s;break}0===s&&(t="vertical"===o?d.y:d.x),d.addEventListener(TouchEvent.TAP,function(){"vertical"===o?TweenMax.to(n.drag,.5,{y:this.y,onUpdate:l,onComplete:u}):TweenMax.to(n.drag,.5,{x:this.x,onUpdate:l,onComplete:u}),n.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(t){t&&NBDrag.addDrag(n.drag,i)},this.updateBound=function(){"vertical"==o?(i={x:this.drag.x,y:this.drag.y,width:0,height:e},i={x:this.drag.x,y:this.drag.y,width:0,height:e}):i={x:this.drag.x,y:this.drag.y,width:e,height:0}},this.updateBound(),n.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==n._align_){var a=r-1;if("vertical"===o){var i=Math.round((this.y-t)/(e-t)*a);i<0&&(i=0),TweenMax.to(this,.5,{y:i*(e-t)/a,onUpdate:l,onComplete:u})}else{var s=Math.round((this.x-t)/(e-t)*a);s<0&&(s=0)}}}),n.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){l()}),n.drag.constY=n.drag.y;var c,l=function(){if("vertical"===o){var a=(n.drag.y-t)/(e-t);n.emit("change",{time:a})}else{n.drag.y=n.drag.constY,n.drag.x>=e&&(n.drag.x=e),n.drag.x<=t&&(n.drag.x=t);var i=(n.drag.x-t)/(e-t);n.emit("change",{time:i}),n.drag.line0&&(n.drag.line0.rotation=1800*i*Math.PI/180,n.drag.line1.rotation=360*i*Math.PI/180),n.bgMask&&(n.bgMask.getChildAt(0).scale.x=i)}},u=function(){n.setMomentsPause(!0,2e3,2);var a=r-1;if("vertical"===o){var i=(n.drag.y-t)/(e-t),s=Math.round(i*a);n.emit("change",{index:s,time:i})}else{var d=(n.drag.x-t)/(e-t),c=Math.round(d*a);n.emit("change",{index:c,time:d})}};this.getNodeCount=function(){return r},this.setNodePos=function(t){var e=this["a"+t];"vertical"===o?n.drag.y=e.y:n.drag.x=e.x},nb.MovieClip.ticker.add(function(){if(n._auto_&&!n.drag.isDragging){var a=e-t;"vertical"===o?(n.drag.y+=n._speed_,n.drag.y>a&&(n.drag.y=a)):(n.drag.x+=n._speed_,n.drag.x>a+n.a0.x&&(n.drag.x=a+n.a0.x)),l()}}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(c),t&&!n.NOTafterStopPlay?(n.setAutoPlay(!1),clearTimeout(c),n.setAutoPlay(!1),c=setTimeout(function(){n.setAutoPlay(!0,a)},e)):n.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},t.exports=nb.substance0147},413:function(t,e,n){"use strict";var a=o(n(529)),i=o(n(535));function o(t){return t&&t.__esModule?t:{default:t}}n(239),nb.substance0587=extendsClass(ScienceMain,{frame0:function(){var t=this,e=0;t.currentStr="a",t.circleY=300,t.bar.circle.y=t.circleY,i.default.apply(t.clock),t.timeline.NOTafterStopPlay=!0,t.clockPause=!0,t.timer=.5,instance.NBDownTip.showTip("拖动单摆"),t.clock.addEventListener(t.clock.event.clockRender,function(e){var n=t.bar;if("15"===e.sec&&"00"===e.ms&&"00"===e.min){if(t.clockPause=!0,t.clock.pause(),t.clockPlay=!1,function(e){for(var n=0,a=function(a){var i=t[e+a];if(0==+i.alpha)return i.gotoAndStop(+t.wordtxt.text),TweenMax.to(i,.5,{alpha:1,onComplete:function(){for(var a=0;a<3;a++){var i=t[e+a];if(!i.alpha)break;n++}3===n?(instance.NBDownTip.showTip("时间到了，请选择其他距离进行测试"),t["step"+e]=!0):instance.NBDownTip.showTip("时间到了")}}),TweenMax.to(i.scale,.5,{x:1.5,y:1.5,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(i.scale,.5,{x:1,y:1,ease:Sine.easeInOut})}}),"break"},i=0;i<3;i++){var o=a(i);if("break"===o)break}}(t.currentStr),t["step"+t.currentStr]&&instance.NBDownTip.showTip("时间到了，请选择其他距离进行测试"),n.getIsPlay()){n.stop(),n.zoomOut({speed:0});var a=Math.abs(t.bar.rotation*t.timer*2/t.allRotation);TweenMax.to(n,a,{rotation:0,ease:Power1.easeOut})}}else t.clockPause=!1});for(var n=0;n<3;n++)t["a"+n].alpha=0,t["b"+n].alpha=0,t["c"+n].alpha=0;var o=t.bar;a.default.apply(this,[o]),t.bar.setAngleLimit(20*Math.PI/180),o.setAttenuation(0),o.setSpeed(4),o.addEventListener(o.event.dragStart,function(){instance.NBDownTip.hideTip()}),o.addEventListener(o.event.dragEnd,function(){Math.abs(o.rotation)>=Math.PI/180?(o.start(),t.clockPlay=!0,t.clockPause&&(t.clock.reset(),t.clock.start(.01),e=0)):o.zoomOut({onComplete:function(){o.addPendulemEvents()}})}),o.addEventListener(o.event.gotoPeak,function(){t.allRotation=t.bar.rotation,e++,t.wordtxt.text=parseInt((e-1)/2)}),o.addEventListener(o.event.gotoEnd,function(){o.addPendulemEvents()}),t.timeline.addEventListener("nodeTap",function(n){instance.NBDownTip.hideTip(),t.clockPlay=!1,t.clock.reset(),t.clock.pause(),t.wordtxt.text=0,e=0,t.bar.stop(),t.clockPause=!0,"0"===n.index?(t.currentStr="a",t.circleY=300,t.bar.setSpeed(4)):"1"===n.index?(t.currentStr="b",t.circleY=550,t.bar.setSpeed(3)):"2"===n.index&&(t.currentStr="c",t.circleY=915,t.bar.setSpeed(2));var a=Math.abs(t.bar.rotation*t.timer*2/t.allRotation);TweenMax.to(o,a,{rotation:0,ease:Power1.easeOut,onComplete:function(){TweenMax.to(t.bar.circle,.5,{y:t.circleY})}})})},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"金属圆片在木条上的位置发生变化，摆的快慢会相应改变吗？",labName:"金属圆片与摆长2",title0:"摆动摆观察摆动次数",WARNING_0:"角度太小，请按住木条并移动一个稍微大一些的角度",CONCLUSION:"改变金属圆片在木条上的位置，摆的快慢会发生变化。金属圆片越靠上，摆动次数越多；金属圆片越靠下，摆动次数越少。"},const:{DIS:"1"},event:{}}),t.exports=nb.substance0587},529:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t||this,n=Math.PI/2,i=0,o=1,r=!1,s=!1;if(e){e.event={dragStart:"pendulem.event.dragStart",dragMove:"pendulem.event.dragMove",dragEnd:"pendulem.event.dragEnd",gotoValley:"pendulem.event.gotoValley",gotoPeak:"pendulem.event.gotoPeak",gotoEnd:"pendulem.event.gotoEnd"},m();var d=!1;return e.addPendulemEvents=m,e.removePendulemEvents=x,e.setAngleLimit=function(t){n=t},e.setAttenuation=function(t){i=t},e.setSpeed=function(t){o=t},e.getIsPlay=g,e.start=function(){r=!0,s=!0,h()},e.stop=f,e.zoomOut=p,e.getTapPoint=function(){return e.point},e.removeTapPoint=v,e}function c(t){d=!0,e.emit(e.event.dragStart,t),f(),v()}function l(t){if(d){var a=t.data.global,i=e.toGlobal({x:0,y:0}),o=-Math.atan2(a.x-i.x,a.y-i.y);o<-n?o=-n:o>n&&(o=n),e.rotation=o,e.emit(e.event.dragMove,{e:t,anngle:o})}}function u(t){d=!1,e.emit(e.event.dragEnd,Object.assign(t,{_rotation:e.rotation}))}function h(){if(g()){var t=e.rotation,n=-(t>0?1:-1)*(Math.abs(t)-i);if(n*t>0)return n=0,void p({speed:1/o,onComplete:function(){e.emit(e.event.gotoEnd,{_rotation:e.rotation})}});TweenMax.to(e,1/o,{rotation:0,ease:Power1.easeIn,onStart:function(){e.emit(e.event.gotoPeak,{_rotation:e.rotation})},onComplete:function(){e.emit(e.event.gotoValley,{_rotation:e.rotation}),TweenMax.to(e,1/o,{rotation:n,ease:Power1.easeOut,onComplete:h})}})}}function v(){var t=e.point;t&&(t.removeAllListeners(),e.removeChild(t),e.point=null)}function f(){r=!1,TweenMax.killTweensOf(e)}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onStart,a=t.onComplete,i=void 0!==t.speed?t.speed:o/2;TweenMax.killTweensOf(e),TweenMax.to(e,i,{rotation:0,onStart:n,onComplete:function(){r=!1,"function"==typeof a&&a()}})}function g(){return r}function m(){!function(){if(!s){v();var t=e.weight||{x:0,y:e.height},n=t.x,i=t.y,o=(0,a.default)(n,i,!1,{addArrow:!0});o.y-=o.height/2,e.addChild(o),e.point=o}}(),x(),e.addEventListener(TouchEvent.TOUCH_BEGIN,c),e.addEventListener(TouchEvent.TOUCH_MOVE,l),e.addEventListener(TouchEvent.TOUCH_END,u),e.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,u)}function x(){e.removeEventListener(TouchEvent.TOUCH_MOVE,l),e.removeEventListener(TouchEvent.TOUCH_BEGIN,c),e.removeEventListener(TouchEvent.TOUCH_END,u),e.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,u)}console.error("请正确初始化pendulem")};var a=function(t){return t&&t.__esModule?t:{default:t}}(n(169))},535:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t&&t.frequency;var e=0,n=!1,a=this;this.txt.text="00:00.00";var i=void 0;this.event={clockRender:"clockRender"},this.render=function(t){if(!n){void 0===t&&(t=1/60),e+=t;var a=Math.floor(e/60);a=a<10?"0"+a:a;var i=Math.floor(e%60);i=i<10?"0"+i:i;var o=Math.floor(e%1*100);o=o<10?"0"+o:o,this.txt.text=a+":"+i+"."+o,this.emit(this.event.clockRender,{min:a.toString(),sec:i.toString(),ms:o.toString()})}},this.start=function(t){var n=void 0;n=void 0===t?void 0===this.times?1e3:this.times:1e3*t,this.times=n,i=setInterval(function(){e++;var t=Math.floor(e/100/60%60);t=t<10?"0"+t:t;var n=Math.floor(e/100%60);n=n<10?"0"+n:n;var i=Math.floor(e%100);i=i<10?"0"+i:i,a.txt.text=t+":"+n+"."+i,a.emit(a.event.clockRender,{min:t.toString(),sec:n.toString(),ms:i.toString()})},n)},this.restart=function(t){this.pause(),this.start(t)},this.getTime=function(){var t=a.txt.text;return{min:t.substring(0,2).toString(),sec:t.substring(3,5).toString(),ms:t.substring(6,8).toString()}},this.reset=function(){e=0,n=!1,this.txt.text="00:00.00"},this.pause=function(){n=!0,clearInterval(i)},this.resume=function(){n=!1}}}});