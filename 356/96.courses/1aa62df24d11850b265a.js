webpackJsonp([96],{352:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Instance=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var l=o.get;if(void 0!==l)return l.call(i)},r=n(570),u=function(t){return t&&t.__esModule?t:{default:t}}(r);e.Instance=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.init.apply(t,arguments),t.info={CONCLUSION:"用相同的物体测量所得的结果是可以进行比较的：字典的长度>宽度>高度",CONCLUSIONAlign:{textAlign:"left"},TITILE:"测一测字典的长、宽、高"},t}return a(e,t),l(e,[{key:"frame0",value:function(){}},{key:"frame1",value:function(){function t(){a.sideArys={0:{totalCount:9,count:0,alineBottom:!1,linked:!1,items:[],min:139,max:579,lastBlock:null,side:null,default:624},1:{totalCount:8,count:0,alineBottom:!1,linked:!1,items:[],min:233,max:600,lastBlock:null,side:null,default:604},2:{totalCount:3,count:0,alineBottom:!1,linked:!1,items:[],min:332,max:454,lastBlock:null,side:null,default:604}},a.isOnWarnning=!1}function e(t){t&&(NBDrag.removeDrag(t),t.off(NBDrag.event.DRAG_MOVE,"dragMoveBlock"),t.off(NBDrag.event.STOP_DRAG,"stopDragBlock"))}function n(t){function e(){for(var n=0;n<3;n++)a.sideArys[n].lastBlock&&(a.sideArys[n].lastBlock.interactive=!0);a.isOnWarnning=!1,instance.tip.hideTip(),t.off(NBDrag.event.START_DRAG,e)}a.isOnWarnning=!0;for(var n=0;n<3;n++)a.sideArys[n].lastBlock&&(a.sideArys[n].lastBlock.interactive=!1);t.interactive=!0,t.on(NBDrag.event.START_DRAG,e)}function i(){for(var t=!1,e=0;e<3;e++){var n=a.sideArys[e];(n.count>0&&n.count<n.totalCount||n.count===n.totalCount&&!1===n.linked)&&(t=!0)}TweenMax.killTweensOf(a.autoBtn),a.autoBtn.alpha=1,a.autoBtn.visible=t,instance.resetBtn.y!==instance.resultBtn.y&&instance.resetBtnEnable(!0)}var o=this,a=this;(0,u.default)(a.startTips,{XorY:"y",offset:30}),a.startTips.showTips(),t(),a.autoBtn.visible=!1;var l=49,s=20;this.sideShadow.visible=!1,this.bottomShadow.visible=!1;for(var r=0;r<3;r++)this["result0"+r].visible=!1;this.block.addEventListener(TouchEvent.TOUCH_BEGIN,function(){function t(t){!0!==a.startTips.visible||a.startTips.isOnTweening||(a.startTips.isOnTweening=!0,TweenMax.to(a.startTips,1,{alpha:0,onComplete:function(){a.startTips.visible=!1,a.startTips.isOnTweening=null}}));var e=a.toLocal(t.data.global);f.x=e.x<0?0:e.x>1280?1280:e.x,f.y=e.y<0?0:e.y>720?720:e.y,v=o()}function o(){var t=a.bottomShadow,e=a.sideShadow,n=void 0,i=a.sideArys;if(0===a.rotateBtn.currentFrame){var o=f.y,s=f.x,r=a.sideArys[0].side,u=a.sideArys[1].side;o=null===r?o>i[0].max-l/2?i[0].max-l/2:o<i[0].min+l/2?i[0].min+l/2:o:o>i[0].max+r*l/2?i[0].max+r*l/2:o<i[0].min+r*l/2?i[0].min+r*l/2:o,e.y=o,s=null===u?s>i[1].max-l/2?i[1].max-l/2:s<i[1].min+l/2?i[1].min+l/2:s:s>i[1].max+u*l/2?i[1].max+u*l/2:s<i[1].min+u*l/2?i[1].min+u*l/2:s,t.x=s,a.sideArys[1].count<a.sideArys[1].totalCount&&(t.visible=!0),a.sideArys[0].count<a.sideArys[0].totalCount&&(e.visible=!0),n=f.y<579?0:1}else{e.visible=!1,a.sideArys[2].count<a.sideArys[2].totalCount&&(t.visible=!0);var c=f.x,m=a.sideArys[2].side;c=null===m?c>i[2].max-l/2?i[2].max-l/2:c<i[2].min+l/2?i[2].min+l/2:c:c>i[2].max+m*l/2?i[2].max+m*l/2:c<i[2].min+m*l/2?i[2].min+m*l/2:c,t.x=c,n=2}return n}function r(){a.block.removeEventListener(TouchEvent.TOUCH_MOVE,t),a.block.removeEventListener(TouchEvent.TOUCH_END,r),a.block.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,r),a.sideShadow.visible=!1,a.bottomShadow.visible=!1;var o=a.sideArys[v];if(o.count>=o.totalCount)return console.log("方块已经满了"),void u();if(1===o.count&&!o.alineBottom)return console.log("底部对齐"),instance.tip.showTip("请让方块对齐任意一端"),n(o.lastBlock),void u();if(o.count>1&&!o.linked)return instance.tip.showTip("请让方块首尾相接"),n(o.lastBlock),void u();if(0===a.rotateBtn.currentFrame){if(f.x>690&&f.y>650||f.y<50||f.x>900)return void u()}else if(f.x>550||f.x<130||f.y<450)return void u();var x={},p=o.count,h=o.side;if(1===h?o.min+=l:-1===h&&(o.max-=l),a.resetAutoBtn(),0===v){x.x=o.default;var y=f.y;0===p?(y=y>o.max-l/2-s?o.max-l/2:y<o.min+l/2+s?o.min+l/2:y,y===o.max-l/2?(o.side=-1,o.alineBottom=!0):y===o.min+l/2?(o.side=1,o.alineBottom=!0):(o.side=null,o.alineBottom=!1),0===o.count&&(o.alineBottom||instance.tip.showTip("请让方块对齐任意一端"))):(y=y>o.max+h*l/2?o.max+h*l/2:y<o.min+h*l/2?o.min+h*l/2:y,1===h?y<o.min+l/2+s?(y=o.min+l/2,o.linked=!0):o.linked=!1:y>o.max-l/2-s?(y=o.max-l/2,o.linked=!0):o.linked=!1,o.linked||instance.tip.showTip("请让方块首尾相接")),x.y=y}else{x.y=o.default;var b=f.x;0===p?(b=b>o.max-l/2-s?o.max-l/2:b<o.min+l/2+s?o.min+l/2:b,b===o.max-l/2?(o.side=-1,o.alineBottom=!0):b===o.min+l/2?(o.side=1,o.alineBottom=!0):(o.side=null,o.alineBottom=!1),0===o.count&&(o.alineBottom||instance.tip.showTip("请让方块对齐任意一端"))):(b=b>o.max+h*l/2?o.max+h*l/2:b<o.min+h*l/2?o.min+h*l/2:b,1===h?b<o.min+l/2+s?(b=o.min+l/2,o.linked=!0):o.linked=!1:b>o.max-l/2-s?(b=o.max-l/2,o.linked=!0):o.linked=!1,o.linked||instance.tip.showTip("请让方块首尾相接")),x.x=b}o.lastBlock&&e(o.lastBlock),a.lastBlock&&e(a.lastBlock),TweenMax.to(f,.3,{x:x.x,y:x.y}),o.count++,o.count===o.totalCount&&o.linked?(console.log("显示数据"),a["result0"+v].visible=!0):(NBDrag.addDrag(f),f.on(NBDrag.event.START_DRAG,c),f.on(NBDrag.event.DRAG_MOVE,m),f.on(NBDrag.event.STOP_DRAG,d)),o.lastBlock=f,o.items.push(f),i()}function u(){TweenMax.to(f,.2,{x:940,y:400,onComplete:function(){f.x=-1e3,f.visible=!1,a.removeChild(f)}})}function c(){instance.tip.hideTip()}function m(){var t=a.sideArys[v],e=t.side;if(0===v){t.count<t.totalCount&&(a.sideShadow.visible=!0),f.x=t.default;var n=f.y,i=void 0;1===t.count?(n=n>t.max-l/2?t.max-l/2:n<t.min+l/2?t.min+l/2:n,i=n>t.max-l/2-s?t.max-l/2:n<t.min+l/2+s?t.min+l/2:n):(n=n>t.max+e*l/2?t.max+e*l/2:n<t.min+e*l/2?t.min+e*l/2:n,1===e?n<t.min+l/2+s&&(i=t.min+l/2):n>t.max-l/2-s&&(i=t.max-l/2)),a.sideShadow.y=i,f.y=n}else{t.count<t.totalCount&&(a.bottomShadow.visible=!0),f.y=t.default;var o=f.x,r=void 0;1===t.count?(o=o>t.max-l/2?t.max-l/2:o<t.min+l/2?t.min+l/2:o,r=o>t.max-l/2-s?t.max-l/2:o<t.min+l/2+s?t.min+l/2:o):(o=o>t.max+e*l/2?t.max+e*l/2:o<t.min+e*l/2?t.min+e*l/2:o,r=1===e?o<t.min+l/2+s?t.min+l/2:o:o>t.max-l/2-s?t.max-l/2:o),a.bottomShadow.x=r,f.x=o}}function d(){a.sideShadow.visible=!1,a.bottomShadow.visible=!1;var t=a.sideArys[v],n=t.side;if(0===v){var o=f.y;1===t.count?o>t.max-l/2-s?(o=t.max-l/2,t.alineBottom=!0,t.side=-1):o<t.min+l/2+s?(o=t.min+l/2,t.alineBottom=!0,t.side=1):(t.alineBottom=!1,t.side=null):1===n?o<t.min+l/2+s?(o=t.min+l/2,t.linked=!0,t.count===t.totalCount&&(e(f),console.log("显示长度个数"))):t.linked=!1:o>t.max-l/2-s?(o=t.max-l/2,t.linked=!0,t.count===t.totalCount&&(e(f),console.log("显示长度个数"))):t.linked=!1,f.y=o}else{var r=f.x;1===t.count?r>t.max-l/2-s?(r=t.max-l/2,t.alineBottom=!0,t.side=-1):r<t.min+l/2+s?(r=t.min+l/2,t.alineBottom=!0,t.side=1):(t.alineBottom=!1,t.side=null):1===n?r<t.min+l/2+s?(r=t.min+l/2,t.linked=!0,t.count===t.totalCount&&(e(f),console.log("显示宽高"))):t.linked=!1:r>t.max-l/2-s?(r=t.max-l/2,t.linked=!0,t.count===t.totalCount&&(e(f),console.log("显示宽高"))):t.linked=!1,f.x=r}i()}a.startTips&&a.startTips.hideTips(),instance.tip.hideTip();var f=a.block.clone();a.block.name="block",a.addChild(f);var v=0===a.rotateBtn.currentFrame?0:2;a.block.addEventListener(TouchEvent.TOUCH_MOVE,t),a.block.addEventListener(TouchEvent.TOUCH_END,r),a.block.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,r)}),this.rotateBtn.addEventListener(TouchEvent.TOUCH_BEGIN,function(){var e=o.book.currentFrame;if(0===e||e===o.book.totalFrames-1){o.isRotate||(o.isRotate=!0,setTimeout(function(){a.isRotate=null},50)),a.autoBtn.visible=!1;for(var n=Number(0===e),i=0;i<3;i++)for(var l=a.sideArys[i].items,s=0;s<l.length;s++)a.removeChild(l[s]),l[s]=null;t(),o.rotateBtn.currentFrame=n;var r=o.book.totalFrames-1-e;TweenMax.to(o.book,.5,{currentFrame:r}),instance.resetBtn.y!==instance.resultBtn.y&&instance.resetBtnEnable(!0)}}),this.autoBtn.addEventListener(TouchEvent.TOUCH_BEGIN,function(){if(!a.isOnWarnning){var n=a.sideArys;t();for(var i=0;i<3;i++){var s=n[i],r=a.sideArys[i];if(s.lastBlock&&e(s.lastBlock),s.count>0){for(var u=s.items,c=0;c<u.length;c++)a.removeChild(u[c]),u[c]=null;if(0===i)for(var m=0;m<r.totalCount;m++){var d=a.block.clone();a.block.name="block",r.items.push(d),a.addChild(d),d.x=r.default,1===s.side?(d.y=r.min+l/2,r.min+=l):(d.y=r.max-l/2,r.max-=l,r.side=-1)}else for(var f=0;f<r.totalCount;f++){var v=a.block.clone();a.block.name="block",r.items.push(v),a.addChild(v),v.y=r.default,1===s.side?(v.x=r.min+l/2,r.min+=l):(v.x=r.max-l/2,r.max-=l,r.side=-1)}r.count=r.totalCount,r.alineBottom=!0,r.linked=!0,a["result0"+i].visible=!0}}o.setAutoBtn()}}),this.setAutoBtn=function(){o.autoBtn.autoCheck.currentFrame=1,TweenMax.to(a.autoBtn,.2,{alpha:0,onComplete:function(){a.autoBtn.visible=!1}})},this.resetAutoBtn=function(){o.autoBtn.alpha=1,o.autoBtn.autoCheck.currentFrame=0}}},{key:"start",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"start",this).call(this),this.gotoStep("frame1")}}]),e}(nb.stem.STEMMain)},570:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.offset||30,i=e.XorY||y,o=e.reuse||!1,a=t.x,l=t.y;t.alpha=0,t.light&&TweenMax.to(t.light.bling,.8,{alpha:.2,repeat:-1,yoyo:!0,ease:Sine.easeInOut}),t.showTips=function(){if(t.parent.setChildIndex(t,t.parent.children.length-2),"x"===i){var e=a+n;TweenMax.to(t,.5,{x:e,alpha:1,ease:Sine.easeInOut})}else{var o=l+n;TweenMax.to(t,.5,{y:o,alpha:1,ease:Sine.easeInOut})}},t.hideTips=function(){"x"===i?TweenMax.to(t,.5,{x:a,alpha:0,ease:Sine.easeInOut,onComplete:function(){o?(t.visible=!1,t.parent.setChildIndex(t,0)):GlobalEffect.fadeOut(t)}}):TweenMax.to(t,.5,{y:l,alpha:0,ease:Sine.easeInOut,onComplete:function(){o?(t.visible=!1,t.parent.setChildIndex(t,0)):GlobalEffect.fadeOut(t)}})}}}});