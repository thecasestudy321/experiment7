webpackJsonp([97],{351:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Instance=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),l=function t(e,o,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,o);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,o,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},u=o(570),s=function(t){return t&&t.__esModule?t:{default:t}}(u);e.Instance=function(t){function e(){n(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.init.apply(t,arguments),t.info={CONCLUSION:"杯子的高度是固定的，但使用不同的测量工具会得到不同的答案，所以用不同的物体测量的结果是不能比较的",CONCLUSIONAlign:{textAlign:"left"},TITILE:"杯子有多高"},window.debug&&$("body").css("background-color","#ccc"),t}return r(e,t),a(e,[{key:"frame0",value:function(){}},{key:"frame1",value:function(){function t(){o.autoBtn.autoCheck.currentFrame=1,TweenMax.to(o.autoBtn,.2,{alpha:0,onComplete:function(){o.autoBtn.visible=!1,o.autoBtn.alpha=1,o.autoBtn.autoCheck.currentFrame=0}})}function e(t,e,n){function a(){for(var t=0;t<4;t++)o["toolBtn"+t].interactive=!0;o.isOnWarnning=!1,instance.tip.hideTip(),e.off(NBDrag.event.START_DRAG,a)}if(o.isOnWarnning=!0,1===t){e.on(NBDrag.event.START_DRAG,a);var l=i[n];instance.tip.showTip(l)}else{instance.resetBtn.y!==instance.resultBtn.y&&instance.resetBtnEnable(!0);var u=e.toolType,s=r[u];instance.tip.showTip(s)}}var o=this,n=30,i=["曲别针首尾相接","","橡皮首尾相接","方块首尾相接","曲别针与一端对齐","","橡皮与一端对齐","方块一端对齐"],r=["先用曲别针测完再用其它工具","小木棍比杯子高不适合测量","先用橡皮测完再用其它工具","先用方块测完再用其它工具"];!function(){(0,s.default)(o.firstTip,{XorY:"y",offset:30}),o.firstTip.showTips(),o.toolCurrentType=null,o.aligBottom=!1,o.toolLinked=!1,o.addedTool=!1,o.autoBtn.visible=!1,o.checkLine.visible=!1,o.needTwinkleAry=[0,2,3,8,10,11],o.toolUsedCount=0,o.lastTool,o.btnCountArr=[5,1,4,8];for(var t=0;t<4;t++)!function(t){o["image"+t].alpha=.3,o["image"+t].visible=!1;var i=o["toolBtn"+t];i.toolType=t,i.toolTotalCount=o.btnCountArr[t],i.currentCount=0,i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){function t(t){v.x<p.x+100&&v.x>p.x-100?p.visible=!0:p.visible=!1;var e=o.toLocal(t.data.global);v.x=e.x<0?0:e.x>1280?1280:e.x,v.y=e.y<0?0:e.y>720?720:e.y,r()}function r(t){if(i.toolTotalCount-1===T)o.aligTop?p.y=233.6+v.height*(i.currentCount+.5):p.y=602.5-v.height*(i.currentCount+.5);else{var e=v.y,r=v.height,a=i.currentCount;e=e>602.5-r/2?602.5-r/2:e,e=e<233.6+r/2?233.6+r/2:e,t&&v.y>602.5-n-r*(a-.5)&&v.y<602.5+n-r*(a-.5)&&(e=602.5-r*(a-.5)),1===g&&(e=602.5-r/2),p.y=e}1==g&&(p.y=v.y-=100)}function a(){if(i.removeEventListener(TouchEvent.TOUCH_MOVE,t),i.removeEventListener(TouchEvent.TOUCH_END,a),i.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,a),u(),v.x<p.x+100&&v.x>p.x-100){var r={x:560,y:v.y};if(1===g)return e(2,o.toolBtn1,1),i.toolIsUsed=!0,o.toolUsedCount++,i.bg.currentFrame=1,void s();if(instance.resetBtn.y!==instance.resultBtn.y&&instance.resetBtnEnable(!0),o.addedTool){if(!o.aligBottom&&!o.aligTop)return e(1,o.lastTool,g+4),void s();if(1===i.currentCount)v.y>602.5-n-v.height*(i.currentCount+.5)&&o.aligBottom?(r.y=602.5-v.height*(i.currentCount+.5),o.toolLinked=!0):v.y<233.6+v.height*(i.currentCount+.5)&&o.aligTop?(r.y=233.6+v.height*(i.currentCount+.5),o.toolLinked=!0):(o.toolLinked=!1,o.aligTop&&(r.y=v.y>602.5-v.height/2?602.5-v.height/2:v.y),o.aligBottom&&(r.y=v.y<233+v.height/2?233+v.height/2:v.y),e(1,v,g));else{if(!o.toolLinked)return e(1,o.lastTool,g),void s();o.aligBottom?(v.y>602.5-n-v.height*(i.currentCount+.5)?(r.y=602.5-v.height*(i.currentCount+.5),o.toolLinked=!0):(r.y=v.y>602.5-v.height/2?602.5-v.height/2:v.y,r.y=v.y<233+v.height/2?233+v.height/2:v.y,o.toolLinked=!1,e(1,v,g)),i.toolTotalCount-1===T&&(r.y=602.5-v.height*(i.currentCount+.5),i.toolIsUsed=!0,o.toolUsedCount++,i.bg.currentFrame=1,f(o.lastTool),o.autoBtn.visible=!1,o.aligBottom=!1,o.aligTop=!1)):o.aligTop?(v.y<233.6+v.height*(i.currentCount+.5)+n?(r.y=233.6+v.height*(i.currentCount+.5),o.toolLinked=!0):(o.aligTop&&(r.y=v.y>602.5-v.height/2?602.5-v.height/2:v.y),o.aligBottom&&(r.y=v.y<233+v.height/2?233+v.height/2:v.y),o.toolLinked=!1,e(1,v,g)),i.toolTotalCount-1===T&&(r.y=233.6+v.height*(i.currentCount+.5),i.toolIsUsed=!0,o.toolUsedCount++,i.bg.currentFrame=1,f(o.lastTool),o.autoBtn.visible=!1,o.aligBottom=!1,o.aligTop=!1)):(o.toolLinked=!1,e(1,v,g))}}else v.y>602.5-v.height/2-n&&(r.y=602.5-v.height/2,o.aligBottom=!0,o.aligTop=!1),v.y<=273.6&&(r.y=233.6+v.height/2,o.aligTop=!0,o.aligBottom=!1),0!==T||o.aligTop||o.aligBottom||e(1,v,g+4),o.addedTool=!0;o.lastTool&&f(o.lastTool),TweenMax.to(v,.3,{x:r.x,y:r.y,onComplete:function(){i.toolIsUsed||(NBDrag.addDrag(v),v.on(NBDrag.event.DRAG_MOVE,c),v.on(NBDrag.event.STOP_DRAG,h),o.autoBtn.visible=!0)}}),i.currentCount++,o.toolCurrentType=g,o.lastTool=v}else p.visible=!1,TweenMax.to(v,.3,{x:v.startX,y:v.startY,onComplete:function(){v.visible=!1}})}function l(){instance.tip.hideTip()}function u(){p.visible=!1}function s(){f(v),TweenMax.to(v,.3,{x:i.x,y:i.y,onComplete:function(){v.visible=!1}})}function c(){v.alpha=1,TweenMax.killTweensOf(v),v.x=560,v.y>602.5-v.height/2&&(v.y=602.5-v.height/2),v.y<233+v.height/2&&(v.y=233.6+v.height/2),r(!0)}function h(){u();var t=i.currentCount,e=v.height;1===t?v.y>602.5-n-e/2?(v.y=602.5-e/2,o.aligBottom=!0,o.aligTop=!1):v.y<230+v.height/2+n?(v.y=233.6+v.height/2,o.aligTop=!0,o.aligBottom=!1):(o.aligTop=!1,o.aligBottom=!1):o.aligBottom?v.y>602.5-n-v.height*(i.currentCount-.5)?(v.y=602.5-e*(t-.5),o.toolLinked=!0):o.toolLinked=!1:o.aligTop&&(v.y<233.6+v.height*(i.currentCount-.5)+n?(v.y=233.6+e*(t-.5),o.toolLinked=!0):o.toolLinked=!1)}function f(t){t&&(t.off(NBDrag.event.DRAG_MOVE,r),t.off(NBDrag.event.START_DRAG,l),NBDrag.removeDrag(t))}if(!i.toolIsUsed){instance.tip.hideTip(),o.firstTip&&o.firstTip.hideTips();var g=i.toolType;if(null!==o.toolCurrentType&&o["toolBtn"+o.toolCurrentType].toolIsUsed){for(var y=0;y<=o.btnCountArr[o.toolCurrentType];y++)o["tool"+o.toolCurrentType+"_Move"+y].visible=!1;o.toolCurrentType=null,o.addedTool=!1,o.aligBottom=!1,o.toolLinked=!1,o.autoBtn.used=!1,o.autoBtn.autoCheck.currentFrame=0}var T=i.currentCount;if(null===o.toolCurrentType||o.toolCurrentType===g){var p=o["image"+g],v=o["tool"+g+"_Move"+T];o.setChildIndex(v,o.children.length-1),v.visible=!0,function(){o.checkLine.visible=!0}(),v.startX=v.x,v.startY=v.y,i.addEventListener(TouchEvent.TOUCH_MOVE,t),i.addEventListener(TouchEvent.TOUCH_END,a),i.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,a)}}});for(var r=0;r<=o.btnCountArr[t];r++)o["tool"+t+"_Move"+r].visible=!1}(t)}(),o.autoBtn.addEventListener(TouchEvent.TOUCH_BEGIN,function(){var e=o.toolCurrentType;if(null!==e&&!o.autoBtn.used&&o.lastTool){o.lastTool&&o.lastTool.off(NBDrag.event.START_DRAG,"removeNotice"),o.isOnWarnning=!1;for(var n=0;n<4;n++)o["toolBtn"+n].interactive=!0;o["image"+e].visible=!1,o.autoBtn.used=!0,o.autoBtn.autoCheck.currentFrame=1,o["toolBtn"+e].toolIsUsed=!0,o["toolBtn"+e].bg.currentFrame=1,o.toolUsedCount++,o.lastTool&&(o.lastTool.alpha=1,TweenMax.killTweensOf(o.lastTool),o.lastTool.off(NBDrag.event.DRAG_MOVE,"moveImage"),o.lastTool.off(NBDrag.event.START_DRAG,"showImage"),NBDrag.removeDrag(o.lastTool),o.lastTool=null);var i=o.btnCountArr[e];if(o.aligTop)for(var r=0;r<i;r++){var a=o["tool"+e+"_Move"+r];a.visible=!0,a.x=560,a.y=233.6+a.height*(r+.5)}else for(var l=0;l<i;l++){var u=o["tool"+e+"_Move"+l];u.visible=!0,u.x=560,u.y=602.5-u.height*(l+.5)}o.aligTop=!1,o.aligBottom=!1,t()}})}},{key:"start",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"start",this).call(this),this.gotoStep("frame1")}}]),e}(nb.stem.STEMMain)},570:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var o=e.offset||30,n=e.XorY||y,i=e.reuse||!1,r=t.x,a=t.y;t.alpha=0,t.light&&TweenMax.to(t.light.bling,.8,{alpha:.2,repeat:-1,yoyo:!0,ease:Sine.easeInOut}),t.showTips=function(){if(t.parent.setChildIndex(t,t.parent.children.length-2),"x"===n){var e=r+o;TweenMax.to(t,.5,{x:e,alpha:1,ease:Sine.easeInOut})}else{var i=a+o;TweenMax.to(t,.5,{y:i,alpha:1,ease:Sine.easeInOut})}},t.hideTips=function(){"x"===n?TweenMax.to(t,.5,{x:r,alpha:0,ease:Sine.easeInOut,onComplete:function(){i?(t.visible=!1,t.parent.setChildIndex(t,0)):GlobalEffect.fadeOut(t)}}):TweenMax.to(t,.5,{y:a,alpha:0,ease:Sine.easeInOut,onComplete:function(){i?(t.visible=!1,t.parent.setChildIndex(t,0)):GlobalEffect.fadeOut(t)}})}}}});