webpackJsonp([96],{169:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,a,n){for(var i=new PIXI.Container,l=new PIXI.filters.ColorMatrixFilter,o=a||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},r=new PIXI.Container,h=0;h<3;++h){var c=h+1,d=PIXI.Sprite.fromFrame("TAP_1"+c);d.x=-d.width/2,d.y=-d.height/2;var p=new PIXI.Container;p.addChild(d),r.addChild(p)}var u=0;if(s.direction)switch(s.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}r.filters=[l];for(var b=0;b<r.children.length;b++){var f=r.children[b];f.scale.x=f.scale.y=2,b<2&&T(f,.75*b)}if(i.addChild(r),s.addArrow){var v,m;if(s.direction){v=PIXI.Sprite.fromFrame("oneArrow"),m=new PIXI.extras.MovieClip([v]);var C=s.scale?s.scale:1;m.scale.x=m.scale.y=C,m.pivot={x:0,y:m.height/2},m.rotation=u}else{v=PIXI.Sprite.fromFrame("NBarrow"),(m=new PIXI.extras.MovieClip([v])).pivot={x:m.width/2,y:m.height/2};var E=s.scale?s.scale:1;m.scale.x=m.scale.y=E,"horizontal"!==(s.type?s.type:"horizontal")&&(m.rotation=Math.PI/2)}i.addChild(m),i.arrow=m,i.addEventListener("hideArrow",function(){m.alpha=0,m.visible=!1}),i.addEventListener("showArrow",function(){m.alpha=1,m.visible=!0})}r.alpha=.4;var M=new PIXI.Graphics;function T(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return M.beginFill(16776960,0),M.drawRect(-50,-50,100,100),i.addChild(M),i.addEventListener(MouseEvent.MOUSE_OVER,function(){r.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){r.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=t,i.y=e,i.setColor=function(t){var e=t>>16,a=t>>8&255,n=255&t;l._loadMatrix([e,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),r.filters=[l]},i.setRotation=function(t){i.rotation=t},i.showAllDir=function(){if(s.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(e),e.pivot={x:0,y:m.height/2},e.rotation=Math.PI/2*(t+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:m.width/2,y:m.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},296:function(t,e,a){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(a(169));a(571),nb.substance0033=extendsClass(ScienceMain,{frame0:function(){var t=this,e=instance.getNBLib("0034");instance.addOneElecAni=e.addOneElecAni,t.comb.ref.visible=!1,this.comb.elecCount=0;e.addElecFunc.apply(null,[this.comb,function(){var e=t.comb.ref,a={x:e.x,y:e.y,w:e.width,h:e.height},n=a.x+Math.random()*a.w,i=a.y+Math.random()*a.h,l=NBMath.rotaPoint({x:n,y:i},a,4*-Math.PI/9);this.x=l.x,this.y=l.y}]);var a=t.paper0.x,i=!1,l=!1,o=!1;this.comb.on(NBDrag.event.DRAG_MOVE,function(){this.hitTest(this.stepRoot.ref0)&&(t.comb.addOneElec(),i=!0),a!==t.paper0.x&&(l=!0)}),instance.floow.apply(this,[40,130,5,25,5]),NBDrag.addDrag(t.comb);var s=(0,n.default)(-t.comb.width/4,2*-t.comb.height/5);function r(e){o?instance.NBDownTipsError.showTip("步骤一已完成"):i?l?e&&(instance.NBStepsShow(!0,1),o=!0):(t.comb.addChild(s),instance.NBDownTip.showTip("将梳子靠近头发和小纸屑观察现象")):(instance.NBDownTip.showTip("用梳子给小V梳头，使其带上静电"),t.comb.addChild(s))}t.comb.addChild(s),t.comb.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),TweenMax.to(t.shuzitip,.4,{alpha:0}),t.comb.removeChild(s)}),t.comb.addEventListener(NBDrag.event.STOP_DRAG,function(){r(!0)}),t.body.addEventListener(TouchEvent.TAP,r),t.ref1.addEventListener(TouchEvent.TAP,r)},frame1:function(){var t=this;t.comb=t.glass,t.comb.ref4=t.glass,t.ref0=t.silk,t.ref1=t.ref3;var e=instance.getNBLib("0034");instance.addOneElecAni=e.addOneElecAni,this.glass.elecCount=0;var a=function(){var t=Math.atan(86/229),e=$s(Math.sqrt(59837)),a=Math.random(),n=a*Math.cos(t)*e,i=a*Math.sin(t)*e;this.x=n,this.y=i};NBDrag.addDrag(t.glass),NBDrag.addDrag(t.silk);var i=!1,l=!1,o=t.paper0.x;e.addElecFunc.apply(null,[this.glass,a]),this.silk.on(NBDrag.event.DRAG_MOVE,function(){this.hitTest(this.stepRoot.glass)&&(t.glass.addOneElec(),i=!0)}),e.addElecFunc.apply(null,[this.silk,a]),this.glass.on(NBDrag.event.DRAG_MOVE,function(){this.hitTest(this.stepRoot.silk)&&(this.addOneElec(),i=!0),o!==t.paper0.x&&(l=!0)}),instance.floow.apply(this,[-210,-70,5,15,5]);var s=(0,n.default)(t.glass.width/2,t.glass.height/2),r=(0,n.default)(0,-t.silk.height/2);function h(){i?l||(instance.NBDownTip.showTip("带静电的玻璃靠近小纸片观察现象"),t.glass.addChild(s)):instance.NBDownTip.showTip("用丝绸摩擦玻璃棒")}this.silk.addChild(r),this.silk.addEventListener(NBDrag.event.START_DRAG,function(){t.silk.removeChild(r),instance.NBDownTip.hideTip(),TweenMax.to(t.sichoutip,.4,{alpha:0})}),this.glass.addEventListener(NBDrag.event.START_DRAG,function(){t.glass.removeChild(s),instance.NBDownTip.hideTip(),TweenMax.to(t.bolitip,.4,{alpha:0})}),this.glass.addEventListener(NBDrag.event.STOP_DRAG,function(){h(),i&&t.silk.removeChild(r)}),this.silk.addEventListener(NBDrag.event.STOP_DRAG,function(){h(),i||t.silk.addChild(r)}),t.ref3.addEventListener(TouchEvent.TAP,h)},floow:function(t,e,a,n,i){var l=this,o=!0;a=a||5;for(var s=!0,r=.2,h=0,c=0;c<a;c++)l["paper"+c].scale.x=.4*Math.random()+.2,l["paper"+c].scale.y=.4*Math.random()+.2,l["paper"+c].rotation=10*Math.random();NBDrag.addDrag(l.comb),l.comb.addEventListener(NBDrag.event.STOP_DRAG,function(){l.comb.hitTest(l.ref0)&&1==s&&(s=!1)}),l.comb.addEventListener(NBDrag.event.DRAG_MOVE,function(){l.comb.ref4.hitTest(l.ref1)&&1==o&&(0==s||l.comb.elecCount>10)&&(h=Math.random(),o=!1)}),this.onUpdate=function(){if(0==o){(r+=.01)>1&&(r=1);for(var s=0;s<a;s++)l["paper"+s].x=l["paper"+s].x+(l.comb.x-t-(h+s)*n-l["paper"+s].x)*r,l["paper"+s].y=l["paper"+s].y+(l.comb.y-e-(h+s)*i-l["paper"+s].y)*r}if(void 0!=l.body)if(l.comb.elecCount&&(l.body.play(),l.body.loop=!1),l.comb.cref.hitTest(l.hairRef)&&this.comb.elecCount>99)for(var c=0;c<5;c++){var d=l.toLocal({x:l.comb.cref.x,y:l.comb.cref.y},l.comb),p=l["hair"+c],u=Math.atan(Math.abs(d.y-p.y)/Math.abs(d.x-p.x));TweenMax.to(p,1,{rotation:1.4*-u})}else for(var b=0;b<5;b++){var f=l["hair"+b];TweenMax.to(f,1,{rotation:0})}}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"在干燥寒冷的天气里，用手触及门的金属把手，经常会有被电击的感觉；脱下毛衣时，经常会发出啪啪的响声，这都是生活中的静电现象。让我们一起来寻找静电吧。",labName:"体验静电现象",title0:"使梳子有静电",title1:"使塑料棒有静电",CONCLUSION:"塑料梳子、衣服还有我们人体内都有静电。物体接触、摩擦会产生静电。"},const:{},event:{}}),t.exports=nb.substance0033},571:function(t,e,a){"use strict";nb.substance0034=extendsClass(ScienceMain,{frame0:function(){NBDrag.addDrag(this.glass),NBDrag.addDrag(this.silk);var t=new PIXI.Graphics;this.addChild(t),this.onUpdate=function(){instance.drawLine.apply(this,[t])},this.glass.elecCount=0;this.ball1.maxElecCount=instance.const.BALL_MAX_ELEC_COUNT,this.ball2.maxElecCount=instance.const.BALL_MAX_ELEC_COUNT,instance.addElecFunc.apply(null,[this.glass,function(){var t=Math.atan(86/229),e=$s(Math.sqrt(59837)),a=Math.random(),n=a*Math.cos(t)*e,i=a*Math.sin(t)*e;this.x=n,this.y=i}]),instance.addElecFunc.apply(null,[this.ball1,instance.setPosition_ball]),instance.addElecFunc.apply(null,[this.ball2,instance.setPosition_ball]),this.silk.on(NBDrag.event.DRAG_MOVE,function(){console.log(this._currentBounds),this.hitTest(this.stepRoot.glass)?(this.stepRoot.glass.addOneElec(),instance.menu.addChildStep(0,instance.info.STEP_0,!0)):(this.hitTest(this.stepRoot.ball1.centerArea)||this.hitTest(this.stepRoot.ball2.centerArea))&&(instance.alert(instance.info.WARNING_1),instance.menu.addChildStep(0,instance.info.STEP_0,!1))}),this.glass.on(NBDrag.event.DRAG_MOVE,function(){this.hitTest(this.stepRoot.ball1.area)&&this.stepRoot.ball1.average(this),this.hitTest(this.stepRoot.ball2.area)&&this.stepRoot.ball2.average(this),this.hitTest(this.stepRoot.silk)&&(this.addOneElec(),instance.menu.addChildStep(0,instance.info.STEP_0,!0)),this.stepRoot.ball1.elecCount>0&&this.stepRoot.ball2.elecCount>0&&this.stepRoot.onStepComplete()}),this.glass.on(NBDrag.event.STOP_DRAG,function(){})},frame1:function(){NBDrag.addDrag(this.fur);var t=new PIXI.Graphics;this.addChild(t),this.onUpdate=function(){instance.drawLine.apply(this,[t])},this.ball1.maxElecCount=instance.const.BALL_MAX_ELEC_COUNT,this.ball2.maxElecCount=instance.const.BALL_MAX_ELEC_COUNT,instance.addElecFunc.apply(null,[this.ball1,instance.setPosition_ball]),instance.addElecFunc.apply(null,[this.ball2,instance.setPosition_ball]);var e=instance.viewStack.frame0.ball1.elecCount||200,a=instance.viewStack.frame0.ball2.elecCount||200;this.ball1.setElecCount(e),this.ball2.setElecCount(a),this.fur.on(NBDrag.event.DRAG_MOVE,function(t){(this.stepRoot.ball1.hitTestPoint(t.data.global)||this.stepRoot.ball2.hitTestPoint(t.data.global))&&(this.stepRoot.ball1.elecCount<0&&1==this.stepRoot.ball2.elecCount||this.stepRoot.ball2.elecCount<0&&this.stepRoot.ball1.elecCount),this.stepRoot.ball1.hitTestPoint(t.data.global)&&(this.stepRoot.ball1.removeOneElec(),this.stepRoot.ball1.elecCount<0&&this.stepRoot.onStepComplete()),this.stepRoot.ball2.hitTestPoint(t.data.global)&&(this.stepRoot.ball2.removeOneElec(),this.stepRoot.ball2.elecCount<0&&this.stepRoot.onStepComplete())})},frame2:function(){NBDrag.addDrag(this.fur);var t=new PIXI.Graphics;this.addChild(t),this.onUpdate=function(){instance.drawLine.apply(this,[t])},this.ball1.maxElecCount=instance.const.BALL_MAX_ELEC_COUNT,this.ball2.maxElecCount=instance.const.BALL_MAX_ELEC_COUNT,instance.addElecFunc.apply(null,[this.ball1,instance.setPosition_ball]),instance.addElecFunc.apply(null,[this.ball2,instance.setPosition_ball]);var e=instance.viewStack.frame1.ball1.elecCount||200,a=instance.viewStack.frame1.ball2.elecCount||200;this.ball1.setElecCount(e),this.ball2.setElecCount(a),this.fur.on(NBDrag.event.DRAG_MOVE,function(t){this.stepRoot.ball1.hitTestPoint(t.data.global)&&this.stepRoot.ball1.removeOneElec(),this.stepRoot.ball2.hitTestPoint(t.data.global)&&this.stepRoot.ball2.removeOneElec(),this.stepRoot.ball1.elecCount<0&&this.stepRoot.ball2.elecCount<0&&this.stepRoot.onStepComplete()})},setPosition_ball:function(){var t=$s(115),e=$s(140),a=Math.random()*Math.PI*2,n=t*Math.cos(a)*Math.random()+$s(6),i=e*Math.sin(a)*Math.random()+$s(164);this.x=n,this.y=i},ballFunc:function(){this.elecCount=0;var t=$s(115),e=$s(140);this.addOneElecAni=function(){if(!(this.elecCount>100)&&(this.elecCount++,this.elecCount%2==0)){var a=Math.random()*Math.PI*2,n=t*Math.cos(a)*Math.random()+$s(6),i=e*Math.sin(a)*Math.random()+$s(164);instance.addOneElecAni(this,n,i)}}},addElecFunc:function(t,e){t.elecIcon&&(t.elecIcon.visible=!1),t.elecCount=0,void 0==t.maxElecCount&&(t.maxElecCount=100),t.setElecCount=function(t){if(t>0)for(var e=0;e<t;e++)this.addOneElec();else for(var a=Math.abs(t),n=0;n<a;n++)this.removeOneElec()},t.addOneElec=function(){if(t.elecCount==t.maxElecCount)return!1;if(t.elecCount++,t.elecCount%5==0)if(t.elecCount>0){var a=instance.addOneElecAni(this,0,0);null!=e&&e.apply(a)}else if(null!=t.g_array){var n=t.g_array.pop();TweenMax.killTweensOf(n),n.parent&&n.parent.removeChild(n)}return!0},t.removeOneElec=function(){if(t.elecCount==-t.maxElecCount)return!1;if(t.elecCount%5==0)if(t.elecCount>0){if(null!=t.g_array){var a=t.g_array.pop();TweenMax.killTweensOf(a),a.parent&&a.parent.removeChild(a)}}else{var n=instance.addOneElecAni(this,0,0);null!=e&&e.apply(n)}t.elecCount--},t.average=function(e){var a=t.elecCount+e.elecCount>>1;if(t.elecCount>a)for(var n=0;t.elecCount-a;n++)t.removeOneElec(),e.addOneElec();else for(var i=0;i<a-t.elecCount;i++)t.addOneElec(),e.removeOneElec();t.elecCount=a,e.elecCount=a},t.getElecCount=function(){return t.maxElecCount}},drawLine:function(t){t.clear(),t.lineStyle($s(4),16777215),t.moveTo(this.ball1.x,this.ball1.y),t.lineTo(this.r1.x,this.r1.y),t.moveTo(this.ball2.x,this.ball2.y),t.lineTo(this.r2.x,this.r2.y);var e=NBPoint.distance(this.ball1,this.r1),a=NBPoint.distance(this.ball1,this.ball2),n=this.ball1.elecCount*this.ball2.elecCount/(a*a/($s(1)*$s(1)))*3e3;if(0!=this.ball1.elecCount&&null!=this.ball1.elecIcon&&(this.ball1.elecIcon.visible=!0),0!=this.ball2.elecCount&&null!=this.ball2.elecIcon&&(this.ball2.elecIcon.visible=!0),!isNaN(n)){void 0==t.offset_r?t.offset_r=0:t.offset_r+=.03;var i=.005*Math.sin(t.offset_r);0!=this.ball1.elecCount&&0!=this.ball2.elecCount||(i=0);var l=-n/3e3*Math.PI+Math.PI/2+i,o=this.ball1.elecCount*this.ball2.elecCount;if(0==o)l=Math.PI/2+i;else if(o<0){var s=Math.abs(n/3e3*Math.PI);l=(s=s>.045?.045:s)+Math.PI/2+i}this.ball1.x+=.15*(-e*Math.cos(l)+this.r1.x-this.ball1.x),this.ball1.y+=.15*(e*Math.sin(l)+this.r1.y-this.ball1.y),this.ball2.x+=.15*(e*Math.cos(l)+this.r2.x-this.ball2.x),this.ball2.y+=.15*(e*Math.sin(l)+this.r2.y-this.ball2.y),this.ball1.rotation-=.15*(this.ball1.rotation+(l-Math.PI/2)),this.ball2.rotation-=.15*(this.ball2.rotation-(l-Math.PI/2)),this.ball1.elecIcon&&(this.ball1.elecIcon.rotation=-this.ball1.rotation,this.ball1.elecIcon.gotoAndStop(this.ball1.elecCount>0?0:1)),this.ball2.elecIcon&&(this.ball2.elecIcon.rotation=-this.ball2.rotation,this.ball2.elecIcon.gotoAndStop(this.ball2.elecCount>0?0:1))}},addOneElecAni:function(t,e,a){var n=[16776960],i=new PIXI.Graphics,l=n[Math.random()*n.length>>0];return i.drawNormalElec=function(){this.clear(),this.beginFill(l,.4*Math.random()+.2,.4*Math.random()+.4),this.drawCircle(0,0,$s(2*Math.random()+4)),this.beginFill(16777215,.8),this.x=e,this.y=a},i.drawPositiveElec=function(){},i.drawNegativeElec=function(){},i.drawNormalElec(),TweenMax.to(i,.5+1*Math.random(),{alpha:0,yoyo:!0,repeat:-1}),null==t.g_array&&(t.g_array=[]),t.g_array.push(i),t.addChild(i),i},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"静电存在于所有的物质当中，为什么我们通常感觉不到物体带电呢？物体上的电荷是什么样子的呢？",labName:"不一样的电荷",title0:"1、用丝绸摩擦玻璃棒，然后用带有电荷的玻璃棒触碰气球，使气球带有正电荷",title1:"2、拖动皮毛摩擦气球，使气球带上负电荷",STEP_0:"用丝绸摩擦气球后，气球带上负电荷了。尝试用摩擦后的玻璃棒碰触气球。",WARNING_0:"此步骤已完成，请进行一下步操作。",WARNING_1:"用丝绸摩擦气球后，气球会带上负电荷。请先尝试用摩擦后的玻璃棒碰触气球。",OPERATION_0:"用'丝绸'摩擦玻璃棒，使玻璃棒带上正电荷。",OPERATION_1:"用玻璃棒接触两个气球使气球带上正电荷。",OPERATION_2:"使用毛皮摩擦其中一个气球使它带上负电荷。",OPERATION_3:"用毛皮摩擦带正电荷的气球，使它带上负电荷。",CONCLUSION:"　　物体同时具有两种电荷：正电荷和负电荷。由于正负电荷相等，相互抵消，所以物体不显示带电。当物体受到外界摩擦时，物体表面的电荷发生了转移，正负电荷数量不一样了，物体就显示带电了。\n　　带同种电荷的物体相互排斥，带异种电荷的物体相互吸引。"},const:{BALL_MAX_ELEC_COUNT:150},event:{}}),t.exports=nb.substance0034}});