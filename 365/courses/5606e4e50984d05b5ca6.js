!function(e){function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=100)}({100:function(e,n,t){e.exports=t(101)},101:function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=function e(n,t,o){null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,t);if(void 0===a){var i=Object.getPrototypeOf(n);return null===i?void 0:e(i,t,o)}if("value"in a)return a.value;var r=a.get;if(void 0!==r)return r.call(o)},l=function(e){function n(){o(this,n);var e=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.init.apply(e,arguments),e}return i(n,e),r(n,[{key:"frame0",value:function(){function e(){t.isOnTweenning=!0,TweenMax.to(t.notice,.3,{alpha:1,delay:.5}),TweenMax.to(t.start,.3,{y:150,onComplete:function(){TweenMax.to(t.start,.7,{y:1100,onComplete:function(){t.start.visible=!1}})}}),t.dark.addEventListener(TouchEvent.TOUCH_BEGIN,function(){if(!t.isOnTweenning&&t.showDetail){t.isOnTweenning=!0,t.addChildAt(t.dark,0),t.dark.visible=!1;var e=t.posAry[t.picNum];TweenMax.to(t.detail.scale,.5,{x:.05,y:.05}),TweenMax.to(t.detail,.5,{x:e.x,y:e.y,alpha:0,onComplete:function(){t.showDetail=!1,t.isOnTweenning=!1,t.detail.x=640,t.detail.y=100}})}});for(var e=0;e<5;e++)!function(e){var o=t["leaves"+e],a=t["tree"+e],i=e;TweenMax.to(o,.6,{alpha:1,delay:.6,onComplete:function(){NBDrag.addDrag(o),t.isOnTweenning=!1}}),TweenMax.to(a,.5,{alpha:1,delay:.5}),t.reset.addEventListener(TouchEvent.TOUCH_BEGIN,function(){if(!t.isOnTweenning&&!t.leavesIsOnmove){t.matchedCount=0,t.isOnTweenning=!0,t.notice.visible=!0,TweenMax.to(t.reset,.2,{alpha:0}),TweenMax.to(t.notice,.3,{alpha:1}),TweenMax.to(t.reset.scale,.1,{x:1.1,y:1.1,onComplete:function(){TweenMax.to(t.reset.scale,.2,{x:1,y:1,onComplete:function(){t.isOnTweenning=!1,t.reset.visible=!1}})}});for(var e=0;e<5;e++){var n=t["leaves"+e],o=t["name"+e];n.alpha=1,n.scale={x:1,y:1},n.x=t.posAry[n.posIndex].x,n.y=t.posAry[n.posIndex].y,n.visible=!0,o.alpha=0,o.y=t.posAry[o.posIndex].y}}}),a.addEventListener(TouchEvent.TAP,function(){t.isOnTweenning||(t.showDetail=!0,t.addChildAt(t.dark,t.children.length-2),t.dark.visible=!0,t.detail.pics.gotoAndStop(i),t.detail.x=t.posAry[3*i+1].x,t.detail.y=t.posAry[3*i+1].y,t.isOnTweenning=!0,TweenMax.to(t.detail.scale,.5,{x:1,y:1}),TweenMax.to(t.detail,.5,{x:640,y:360,alpha:1,onComplete:function(){t.isOnTweenning=!1,t.picNum=a.posIndex}}))}),o.addEventListener(TouchEvent.TAP,function(){t.isOnTweenning||t.leavesIsOnmove||t.endTime-t.startTime>200||(t.showDetail=!0,t.addChildAt(t.dark,t.children.length-2),t.dark.visible=!0,t.detail.pics.gotoAndStop(i+5),t.detail.x=t.posAry[3*i].x,t.detail.y=t.posAry[3*i].y,t.isOnTweenning=!0,TweenMax.to(t.detail.scale,.5,{x:1,y:1}),TweenMax.to(t.detail,.5,{x:640,y:360,alpha:1,onComplete:function(){t.isOnTweenning=!1,t.picNum=o.posIndex}}))}),o.addEventListener(TouchEvent.TOUCH_BEGIN,function(){t.isOnTweenning||t.leavesIsOnmove||(t.startTime=(new Date).getTime(),t.picNum=o.posIndex,TweenMax.to(o.scale,.3,{x:1.3,y:1.3,ease:n.easeOut.config(3,.4)}))}),o.on(NBDrag.event.DRAG_MOVE,function(e){if(!((new Date).getTime()-t.startTime<=200)){t.leavesIsOnmove=!0;var n=t.toLocal(e.data.global);n.x=n.x>1280?1280:n.x,n.x=n.x<0?0:n.x,n.y=n.y>720?720:n.y,n.y=n.y<0?0:n.y,o.x=n.x,o.y=n.y;for(var a=0;a<5;a++){var r=t["tree"+a],s=1;a===i?o.hitTest(r)&&(s=2):o.hitTest(r)&&(s=3),r.bg.gotoAndStop(s)}}}),o.on(NBDrag.event.STOP_DRAG,function(){t.leavesIsOnmove=!1,t.endTime=(new Date).getTime();var e=t.posAry[o.posIndex];if(t.endTime-t.startTime<=200)return o.scale={x:1,y:1},o.x=e.x,void(o.y=e.y);var a=t["tree"+i],r=o.hitTest(a);if(t.isOnTweenning=!0,r){t.matchedCount++,1===t.notice.alpha&&5===t.matchedCount&&(TweenMax.to(t.notice,.3,{alpha:0,onComplete:function(){t.notice.visible=!1}}),t.reset.visible=!0,TweenMax.to(t.reset,.3,{alpha:1})),TweenMax.to(o.scale,.3,{x:.05,y:.05}),TweenMax.to(o,.3,{x:a.x,y:a.y,alpha:0,onComplete:function(){o.visible=!1,o.x=-1e3}});var s=t["name"+i],l=s.y-150;TweenMax.to(s,.3,{y:l,alpha:1,delay:.2,onComplete:function(){t.isOnTweenning=!1}})}else{for(var c=0;c<5;c++){var p=t["tree"+c];if(3===p.bg.currentFrame){var u=t.posAry[p.posIndex].x;TweenMax.to(p,.1,{x:u-6}),TweenMax.to(p,.1,{x:u+5,delay:.1}),TweenMax.to(p,.1,{x:u-4,delay:.2}),TweenMax.to(p,.1,{x:u,delay:.3,ease:n.easeOut.config(3,.5)})}}TweenMax.to(o,.4,{x:e.x,y:e.y}),TweenMax.to(o.scale,.4,{x:1,y:1,onComplete:function(){t.isOnTweenning=!1}})}for(var d=0;d<5;d++)t["tree"+d].bg.gotoAndStop(0)})}(e)}var n=window.Elastic,t=this.frameRoot;t.isOnTweenning=!1,t.matchedCount=0,this.init=function(){for(var e=0;e<5;e++){var n=t["name"+e],o=t["tree"+e],a=t["leaves"+e];n.y+=150,n.alpha=0,t.posAry||(t.posAry=[]),t.posAry.push({x:a.x,y:a.y}),t.posAry.push({x:o.x,y:o.y}),t.posAry.push({x:n.x,y:n.y}),a.posIndex=3*e,o.posIndex=3*e+1,n.posIndex=3*e+2,a.alpha=0,o.alpha=0}t.reset.alpha=0,t.notice.alpha=0,t.reset.visible=!1,t.detail.scale={x:.05,y:.05},t.addChildAt(t.detail,t.children.length-1),t.detail.alpha=0,t.dark.visible=!1},this.init(),t.start.btn.addEventListener(TouchEvent.TOUCH_BEGIN,e)}},{key:"start",value:function(){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"start",this).call(this);var e=function(e){for(var n={},t=null,o=decodeURIComponent(location.search.substring(1)),a=/(?:([^&]+)=([^&]+))/g;null!==(t=a.exec(o));)n[t[1]]=t[2];return n[e]}("frame")||0;this.gotoStep("frame"+e)}}]),n}(nb.stem.STEMMain);nb.STEM_4003=l}});