webpackJsonp([142],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,s=a||!1,r=n||{addArrow:!1,type:"horizontal",scale:1},l=new PIXI.Container,d=0;d<3;++d){var c=d+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var p=new PIXI.Container;p.addChild(h),l.addChild(p)}var v=0;if(r.direction)switch(r.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}l.filters=[o];for(var u=0;u<l.children.length;u++){var x=l.children[u];x.scale.x=x.scale.y=2,u<2&&C(x,.75*u)}if(i.addChild(l),r.addArrow){var f,T;if(r.direction){f=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([f]);var w=r.scale?r.scale:1;T.scale.x=T.scale.y=w,T.pivot={x:0,y:T.height/2},T.rotation=v}else{f=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([f])).pivot={x:T.width/2,y:T.height/2};var I=r.scale?r.scale:1;T.scale.x=T.scale.y=I,"horizontal"!==(r.type?r.type:"horizontal")&&(T.rotation=Math.PI/2)}i.addChild(T),i.arrow=T,i.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),i.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}l.alpha=.4;var E=new PIXI.Graphics;function C(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return E.beginFill(16776960,0),E.drawRect(-50,-50,100,100),i.addChild(E),i.addEventListener(MouseEvent.MOUSE_OVER,function(){l.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){l.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!s&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;o._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),l.filters=[o]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(r.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:T.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:T.width/2,y:T.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},385:function(e,t,a){"use strict";var n=o(a(169)),i=o(a(540));function o(e){return e&&e.__esModule?e:{default:e}}nb.substance0557=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.dou,a=[t.a0,t.a1,t.a2,t.a3,t.a4,t.a5],o=[e.b0,e.b1,e.b2,e.b3,e.b4,e.b5],s=e.b0,r=e.b0,l=0,d=0,c=!1,h=!1,p=e.glass;NBDrag.addDrag(e.glass),e.glass.bottom.alpha=0,e.glass.addEventListener(NBDrag.event.DRAG_MOVE,function(){p.tapPoint&&p.removeChild(p.tapPoint);0===l&&(instance.NBDownTip.showTip("点击可切换豆子"),l++,d++,c=!0);h&&(instance.NBDownTip.hideTip(),h=!1);x()}),e.glass.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip()});var v=(0,n.default)(220,220);e.glass.addChild(v),e.glass.tapPoint=v,e.glass.x=1800,e.glass.y=540,TweenMax.to(e.glass,.3,{x:1280,ease:Sine.easeInOut});var u=new PIXI.Graphics;function x(){if(p.bottom.hitTest(s)){var t=e.glass.toGlobal(e.glass.bottom),a=e.toLocal(t);u.position=a,e["c"+s.index].alpha=1,e["c"+r.index].alpha=1}else e["c"+s.index].alpha=0}e.addChild(u),e.graphics=u,u.beginFill(0,255,1),u.drawCircle(0,0,e.glass.bottom.width/2),i.default.apply(this,[this.glass]);for(var f=0;f<a.length;f++){var T=a[f],w=o[f],I=e["c"+f],E=e.dou["d"+f];I.mask=u,I.alpha=0,e.setChildIndex(I,e.children.length-1),w.pivot={x:w.width/2,y:w.height/2},I.pivot={x:I.width/2,y:I.height/2},T.index=w.index=E.index=f,T.hitArea=new PIXI.Rectangle(-T.width/2,-T.height/2,70,40);var C=E.children[0].currentPath.shape.points,g=new PIXI.Polygon(C);E.hitArea=g,E.addEventListener(TouchEvent.TAP,M),w.alpha=0,w.x=w.startX=860,w.y=w.startY=550,I.position=w.position,T.addEventListener(TouchEvent.TAP,M)}function M(){0===d&&(instance.NBDownTip.showTip("拖动放大镜观察豆子"),d++,l++,h=!0),c&&(instance.NBDownTip.hideTip(),c=!1);for(var t=this,n=0;n<a.length;n++){a[n].currentFrame=0}e.dou["a"+t.index].currentFrame=1,r=e["b"+t.index],TweenMax.to(s,.2,{x:240,alpha:0,easy:Sine.easeInOut,onComplete:function(){s.x=s.startX,e["c"+s.index].alpha=0,s=e["b"+t.index]},onUpdate:x}),TweenMax.to(e["b"+t.index],.2,{x:700,alpha:1,easy:Sine.easeInOut})}e.b0.alpha=1,e.b0.x=700,t.a0.currentFrame=1,e.setChildIndex(e.dou,e.children.length-1)},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.gotoStep("frame0")},info:{experimentImport:"观察种子的外部形态",labName:"观察种子",title0:"选择并观察种子",CONCLUSION:" 豆子。",isOffset:!0,isOpenObserve:!0},const:{},event:{}}),nb.glassTip=function(e,t){var a=e.tipIcon,n=e.littleTip,i=this;a.y=-206,a.x=289,n.y=257,n.y=-100,n.alpha=0;var o=TweenMax.to(a.scale,.5,{x:1.2,y:1.2,repeat:-1,yoyo:!0});function s(t){e.tapPoint&&t&&e.removeChild(e.tapPoint),n.alpha&&(TweenMax.killTweensOf(n),TweenMax.to(n,.5,{y:-100,ease:Sine.easeInOut,alpha:0}))}a.addEventListener(TouchEvent.TAP,function(){o.pause(),n.alpha||TweenMax.to(n,.5,{y:-150,ease:Sine.easeInOut,alpha:1})}),$("canvas").click(function(){s()}),e.addEventListener(NBDrag.event.START_DRAG,s);var r=this.graphics,l=new PIXI.filters.BlurFilter;if(T(1),t.filters=[l],r){var d,c,h=0,p=0,v=1,u=1,x=1;r.addEventListener(TouchEvent.TOUCH_BEGIN,function(){r.addEventListener(TouchEvent.TOUCH_MOVE,f)}),r.addEventListener(TouchEvent.TOUCH_END,function(){0!=h&&(v=h,u=p,x=c),i.addChild(r),r.removeListener(TouchEvent.TOUCH_MOVE,f)}),r.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){0!=h&&(v=h,u=p,x=c),i.addChild(r),r.removeListener(TouchEvent.TOUCH_MOVE,f)}),r.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){var t=i.toLocal({x:e.data.global.x,y:e.data.global.y});d=t.x,r.addEventListener(TouchEvent.TOUCH_MOVE,f)})}function f(e){var a=i.toLocal({x:e.data.global.x,y:e.data.global.y});if(i.glass.removeChild(i.glass.glassCenterPoint),i.glass.arrow.alpha=0,i.glass.slide=!0,i.glass.tapPoint1&&i.glass.removeChild(i.glass.tapPoint1),instance.NBDownTip.hideTip(),a.x<d){var n=d-a.x;p=u+n/1e3,c=x+n/1e3/2,(h=v+n/1e3)>instance.const.MAX_SCALE&&(h=instance.const.MAX_SCALE),c>instance.const.MAX_SCALE-.5&&(c=instance.const.MAX_SCALE-.5),p>instance.const.MAX_SCALE&&(p=instance.const.MAX_SCALE),T(h),TweenMax.to(i.glass.scale,.5,{x:h,y:p}),TweenMax.to(r.scale,.5,{x:h,y:p}),TweenMax.to(i.bottom.scale,.5,{x:h,y:p}),TweenMax.to(t.scale,.5,{x:c,y:c})}if(a.x>d){var o=a.x-d;p=u-o/1e3,c=x-o/1e3/2,(h=v-o/1e3)<instance.const.MIN_SCALE&&(h=instance.const.MIN_SCALE),c<instance.const.MIN_SCALE&&(c=instance.const.MIN_SCALE),p<instance.const.MIN_SCALE&&(p=instance.const.MIN_SCALE),T(h),TweenMax.to(i.glass.scale,.5,{x:h,y:p}),TweenMax.to(r.scale,.5,{x:h,y:p}),TweenMax.to(i.bottom.scale,.5,{x:h,y:p}),TweenMax.to(t.scale,.5,{x:c,y:c})}i.txt&&(i.bottom.hitTest(i.txt)?i.txt.visible=!1:i.txt.visible=!0)}function T(e){l.blur=5.46*e-4.4784,l.blur<=0&&(l.blur=0)}},e.exports=nb.substance0557},540:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e,a=t.tipIcon,n=t.littleTip;a.y=-206,a.x=289,n.y=257,n.y=-100,n.alpha=0;var i=TweenMax.to(a.scale,.5,{x:1.2,y:1.2,repeat:-1,yoyo:!0});function o(e){t.tapPoint&&e&&t.removeChild(t.tapPoint),n.alpha&&(TweenMax.killTweensOf(n),TweenMax.to(n,.5,{y:-100,ease:Sine.easeInOut,alpha:0}))}t.addEventListener(NBDrag.event.START_DRAG,o),a.addEventListener(TouchEvent.TAP,function(){i.pause(),n.alpha||TweenMax.to(n,.5,{y:-150,ease:Sine.easeInOut,alpha:1})}),$("canvas").click(function(){o()})}}});